From b7d5f0ca9a76de6d99fc5d6f5cbb8df864c62b7b Mon Sep 17 00:00:00 2001
From: Josep Puigdemont <josep.puigdemont@enea.com>
Date: Wed, 4 May 2016 14:27:23 +0200
Subject: [PATCH] Remove check for root

Change-Id: Ic6bfaf07c0d9d347aec2df8724184d0314665503
Signed-off-by: Josep Puigdemont <josep.puigdemont@enea.com>
---
 ci/deploy.sh                        | 5 -----
 deploy/deploy-config.py             | 1 -
 deploy/deploy.py                    | 2 --
 deploy/environments/virtual_fuel.py | 2 --
 4 files changed, 10 deletions(-)

diff --git a/ci/deploy.sh b/ci/deploy.sh
index c08a94b..081806c 100755
--- a/ci/deploy.sh
+++ b/ci/deploy.sh
@@ -209,11 +209,6 @@ do
     esac
 done
 
-if [[ $EUID -ne 0 ]]; then
-    echo "This script must be run as root" 1>&2
-    exit 1
-fi
-
 if [ -z $BASE_CONFIG_URI ] || [ -z $TARGET_LAB ] || \
    [ -z $TARGET_POD ] || [ -z $DEPLOY_SCENARIO ] || \
    [ -z $ISO ]; then
diff --git a/deploy/deploy-config.py b/deploy/deploy-config.py
index 65d51b2..88a1111 100644
--- a/deploy/deploy-config.py
+++ b/deploy/deploy-config.py
@@ -40,7 +40,6 @@ from common import (
     check_file_exists,
     create_dir_if_not_exists,
     delete,
-    check_if_root,
     ArgParser,
 )
 
diff --git a/deploy/deploy.py b/deploy/deploy.py
index 56e5bd5..a021e28 100755
--- a/deploy/deploy.py
+++ b/deploy/deploy.py
@@ -33,7 +33,6 @@ from common import (
     check_dir_exists,
     create_dir_if_not_exists,
     delete,
-    check_if_root,
     ArgParser,
 )
 
@@ -234,7 +233,6 @@ class AutoDeploy(object):
         return 0
 
     def run(self):
-        check_if_root()
         if self.cleanup_only:
             self.cleanup_execution_environment()
         else:
diff --git a/deploy/environments/virtual_fuel.py b/deploy/environments/virtual_fuel.py
index b1a76e4..4ff68f6 100644
--- a/deploy/environments/virtual_fuel.py
+++ b/deploy/environments/virtual_fuel.py
@@ -18,7 +18,6 @@ import time
 from common import (
     exec_cmd,
     check_file_exists,
-    check_if_root,
     delete,
     log,
 )
@@ -135,7 +134,6 @@ class VirtualFuel(ExecutionEnvironment):
                        vm_definition_overwrite)
 
     def setup_environment(self):
-        check_if_root()
         self.cleanup_environment()
         self.create_vm()
 
-- 
2.5.5

